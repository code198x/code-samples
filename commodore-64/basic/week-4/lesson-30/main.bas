REM *** LESSON 30: ESCAPE GAME ***
REM Simple Enemy AI

NEW
10 REM *** ESCAPE GAME ***
20 PRINT CHR$(147)
30 PRINT "SURVIVE 20 SECONDS!"
40 FOR I=832 TO 894:POKE I,255:NEXT I
50 FOR I=896 TO 958:POKE I,170:NEXT I
60 POKE 2040,13:POKE 2041,14
70 POKE 53269,3:POKE 53287,7:POKE 53288,2
80 PX=100:PY=120:EX=250:EY=120
90 TI$="000000":T=1200
100 GET K$
110 IF K$="W" THEN PY=PY-3
120 IF K$="S" THEN PY=PY+3
130 IF K$="A" THEN PX=PX-3
140 IF K$="D" THEN PX=PX+3
150 REM ENEMY AI
160 IF EX<PX THEN EX=EX+2
170 IF EX>PX THEN EX=EX-2
180 IF EY<PY THEN EY=EY+2
190 IF EY>PY THEN EY=EY-2
200 REM UPDATE
210 POKE 53248,PX:POKE 53249,PY
220 POKE 53250,EX:POKE 53251,EY
230 REM CHECK COLLISION
240 C=PEEK(53279)
250 IF C>0 THEN PRINT CHR$(19);"CAUGHT!":END
260 REM CHECK TIME
270 PRINT CHR$(19);"TIME:";INT((T-TI)/60)
280 IF TI>T THEN PRINT "YOU WIN!":END
290 GOTO 100
