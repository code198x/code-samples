REM *** LESSON 38: SIMPLE PLATFORMER JUMP ***
REM WOW Moment
NEW
10 REM *** PLATFORM JUMPER ***
20 PRINT CHR$(147)
30 PRINT "SPACE=JUMP  A/D=MOVE"
40 FOR I=0 TO 23:POKE 1024+I*40+5,160:NEXT I
50 FOR I=0 TO 23:POKE 1024+I*40+34,160:NEXT I
60 FOR I=10 TO 15:POKE 1024+15*40+I,160:NEXT I
70 FOR I=25 TO 30:POKE 1024+15*40+I,160:NEXT I
80 FOR I=5 TO 39:POKE 1024+23*40+I,160:NEXT I
90 FOR I=832 TO 894:POKE I,255:NEXT I
100 POKE 2040,13:POKE 53287,3
110 POKE 53269,1
120 X=100:Y=170
130 VY=0:ON=1
140 GET K$
150 IF K$=" " AND ON=1 THEN VY=-9:ON=0
160 IF K$="A" THEN X=X-2
170 IF K$="D" THEN X=X+2
180 VY=VY+1
190 IF VY>5 THEN VY=5
200 Y=Y+VY
210 REM CHECK PLATFORMS
220 PX=INT(X/8):PY=INT(Y/8)
230 C=PEEK(1024+PY*40+PX)
240 IF C=160 AND VY>0 THEN Y=PY*8:VY=0:ON=1
250 REM FALL OFF BOTTOM
260 IF Y>229 THEN PRINT CHR$(147);"FELL!":GOTO 280
270 IF X<48 OR X>272 THEN X=100:Y=170:VY=0
280 POKE 53248,X:POKE 53249,Y
290 FOR D=1 TO 3:NEXT D
300 GOTO 140