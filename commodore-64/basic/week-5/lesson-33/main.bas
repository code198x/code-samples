REM *** LESSON 33: CATCH GAME ***
REM WOW Moment
NEW
10 REM *** CATCH GAME ***
20 PRINT CHR$(147)
30 PRINT "SCORE:0  LIVES:3"
40 FOR I=832 TO 894:POKE I,255:NEXT I
50 FOR I=896 TO 958:POKE I,170:NEXT I
60 POKE 2040,13:POKE 2041,14
70 POKE 53269,3:POKE 53287,2:POKE 53288,7
80 OX=160:OY=50:BX=160:BY=200:SC=0:LV=3:SP=2
90 GET K$
100 IF K$="A" THEN BX=BX-5
110 IF K$="D" THEN BX=BX+5
120 IF BX<24 THEN BX=24
130 IF BX>320 THEN BX=320
140 REM FALLING OBJECT
150 OY=OY+SP
160 POKE 53248,OX:POKE 53249,OY
170 POKE 53250,BX:POKE 53251,BY
180 REM CHECK CATCH
190 C=PEEK(53279)
200 IF C>0 AND OY>180 THEN GOSUB 400
210 REM CHECK MISS
220 IF OY>229 THEN GOSUB 500
230 REM UPDATE HUD
240 POKE 1046,(SC/10)+48
250 POKE 1047,SC AND 15+48
260 POKE 1056,LV+48
270 FOR D=1 TO 3:NEXT D
280 GOTO 90
390 REM *** CATCH ROUTINE ***
400 SC=SC+1
410 POKE 53287,14:FOR F=1 TO 20:NEXT F:POKE 53287,2
420 OY=50:OX=INT(RND(1)*200)+60
430 IF SC>0 AND SC/5=INT(SC/5) THEN SP=SP+1
440 RETURN
490 REM *** MISS ROUTINE ***
500 LV=LV-1
510 POKE 53287,10:FOR F=1 TO 30:NEXT F:POKE 53287,2
520 IF LV=0 THEN PRINT CHR$(19);"GAME OVER! SCORE:";SC:END
530 OY=50:OX=INT(RND(1)*200)+60
540 RETURN