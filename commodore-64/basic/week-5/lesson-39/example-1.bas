NEW
10 REM *** FIXED TIMESTEP LOOP ***
20 PRINT CHR$(147);"F=FASTER  S=SLOWER  Q=QUIT"
30 POKE 2040,13:POKE 53287,7:POKE 53269,1
40 POKE 53249,120
50 TI$="000000"
60 STEP=6:NEXTT=STEP
70 BASE=PEEK(53270) AND 248
80 PX=24:SCROLL=0
90 GET K$
100 IF K$="F" AND STEP>2 THEN STEP=STEP-1
110 IF K$="S" AND STEP<12 THEN STEP=STEP+1
120 IF K$="Q" THEN END
130 T=TI
140 IF T<NEXTT THEN GOTO 90
150 PX=PX+4:IF PX>320 THEN PX=24
160 POKE 53248,PX
170 SCROLL=SCROLL+1:IF SCROLL>7 THEN SCROLL=0
180 POKE 53270,BASE OR SCROLL
190 IF SCROLL=0 THEN POKE 53270,BASE
200 NEXTT=NEXTT+STEP
210 IF NEXTT<T THEN NEXTT=T+STEP
220 IF NEXTT>30000 THEN NEXTT=STEP:TI$="000000"
230 PRINT CHR$(19);"STEP:";STEP;"  TI:";T
240 GOTO 90
