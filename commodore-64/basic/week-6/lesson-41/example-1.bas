NEW
10 REM *** FINITE STATE LOOP ***
20 PRINT CHR$(147)
30 STATE=0:LAST=-1:LIVES=3:SCORE=0:KEY$=""
40 TI$="000000"
50 GET K$:IF K$<>"" THEN KEY$=K$
60 IF STATE<>LAST THEN GOSUB 400
70 ON STATE+1 GOSUB 500,600,700
80 LAST=STATE
90 GOTO 50
400 REM *** STATE DRAWER ***
410 IF STATE=0 THEN GOSUB 900
420 IF STATE=1 THEN GOSUB 920
430 IF STATE=2 THEN GOSUB 940
440 RETURN
500 REM *** TITLE STATE ***
510 IF KEY$=" " THEN STATE=1:KEY$="":LIVES=3:SCORE=0:TI$="000000"
520 IF KEY$="Q" THEN END
530 KEY$="":RETURN
600 REM *** PLAY STATE ***
610 IF TI>60 THEN SCORE=SCORE+10:TI$="000000"
620 IF KEY$="H" THEN LIVES=LIVES-1:KEY$=""
630 IF KEY$="P" THEN STATE=0:KEY$="":RETURN
640 IF LIVES<0 THEN STATE=2:RETURN
650 PRINT CHR$(19);"SCORE:";SCORE;"  LIVES:";LIVES;"   "
660 KEY$="":RETURN
700 REM *** GAME OVER STATE ***
710 IF KEY$="R" THEN STATE=0:KEY$=""
720 IF KEY$="Q" THEN END
730 KEY$="":RETURN
900 PRINT CHR$(147)
910 PRINT "*** STARFIELD COMMAND ***";:PRINT:PRINT "SPACE = LAUNCH  Q = QUIT"
915 PRINT "TIP: PRESS H DURING PLAY TO LOSE A LIFE"
916 PRINT "PRESS SPACE TO START"
917 RETURN
920 PRINT CHR$(147)
930 PRINT "MISSION ACTIVE";:PRINT:PRINT "H = HAZARD  P = PAUSE"
931 PRINT "SURVIVE AND SCORE!"
932 RETURN
940 PRINT CHR$(147)
950 PRINT "MISSION FAILED";:PRINT:PRINT "R = RETRY  Q = QUIT"
951 PRINT "YOUR SCORE:";SCORE
952 RETURN
