NEW
10 REM *** BALANCING ACT ***
20 PRINT CHR$(147);"A/D MOVE  Q QUIT"
30 FOR I=832 TO 895:POKE I,0:NEXT I
40 POKE 2040,13:POKE 2041,14:POKE 2042,15
50 POKE 53269,7:POKE 53287,12:POKE 53288,1:POKE 53289,2
60 PX=160:PY=220:ENX=80:ENY=70:B_ACTIVE=0:B_Y=0
70 LEVEL=1:SCORE=0:TARGET=100:LIVES=3
80 ENSPD=2:DROPMAX=80:DROPT=80
90 GET K$:IF K$="Q" THEN END
100 IF K$="A" THEN PX=PX-4
110 IF K$="D" THEN PX=PX+4
120 IF PX<24 THEN PX=24
130 IF PX>320 THEN PX=320
140 POKE 53248,PX:POKE 53249,PY
150 GOSUB 400
160 GOSUB 450
170 COL=PEEK(53279)
180 IF B_ACTIVE AND (COL AND 1) AND (COL AND 2) THEN GOSUB 520
190 IF SCORE>=TARGET THEN GOSUB 560
200 PRINT CHR$(19);"LEVEL:";LEVEL;TAB(14);"SCORE:";SCORE;TAB(28);"DROP:";DROPMAX;TAB(40);"SPD:";ABS(ENSPD)
210 PRINT TAB(12);"NEXT:";TARGET-SCORE;TAB(34);"LIVES:";LIVES;"   "
220 FOR D=1 TO 3:NEXT D
230 IF LIVES<0 THEN PRINT CHR$(147);"OUT OF SHIPS!";:PRINT "FINAL SCORE:";SCORE:END
240 GOTO 90
400 REM *** ENEMY WALK ***
410 ENX=ENX+ENSPD
420 IF ENX<40 OR ENX>300 THEN ENSPD=-ENSPD:ENX=ENX+ENSPD
430 POKE 53252,ENX:POKE 53253,ENY
440 RETURN
450 REM *** BOMB MANAGEMENT ***
460 IF B_ACTIVE=0 THEN DROPT=DROPT-1:IF DROPT<=0 THEN GOSUB 490
470 IF B_ACTIVE=1 THEN GOSUB 500
480 RETURN
490 B_ACTIVE=1:BX=ENX:BY=ENY+16:DROPT=DROPMAX
500 BY=BY+5:POKE 53250,BX:POKE 53251,BY
510 IF BY>240 THEN B_ACTIVE=0:POKE 53251,0:SCORE=SCORE+10
511 RETURN
520 REM *** PLAYER HIT ***
530 B_ACTIVE=0:POKE 53251,0:LIVES=LIVES-1:DROPT=DROPMAX+20
540 POKE 53287,10:FOR F=1 TO 40:NEXT F:POKE 53287,12
550 RETURN
560 REM *** LEVEL UP ***
570 LEVEL=LEVEL+1:TARGET=TARGET+100
580 ENSPD=ENSPD+SGN(ENSPD)
581 IF SGN(ENSPD)=0 THEN ENSPD=2
582 IF ABS(ENSPD)>6 THEN ENSPD=SGN(ENSPD)*6
590 DROPMAX=DROPMAX-8:IF DROPMAX<24 THEN DROPMAX=24
600 PRINT CHR$(147);"LEVEL UP!";:PRINT "NEW SPEED:";ABS(ENSPD);"  DROP TIMER:";DROPMAX
610 FOR PA=1 TO 200:NEXT PA
620 PRINT CHR$(147)
630 RETURN
