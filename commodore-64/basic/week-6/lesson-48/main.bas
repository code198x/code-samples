REM *** LESSON 48: BASIC PERFORMANCE TIPS ***
REM WOW Moment
NEW
10 REM *** PERFORMANCE DEMO ***
20 PRINT CHR$(147)
30 PRINT "*** BASIC SPEED TEST ***"
40 PRINT
50 PRINT "1 = SLOW METHOD"
60 PRINT "2 = FAST METHOD"
70 PRINT "3 = BOTH (COMPARE)"
80 PRINT
90 PRINT "SELECT:"
100 GET K$:IF K$="" THEN GOTO 100
110 IF K$="1" THEN GOSUB 200
120 IF K$="2" THEN GOSUB 400
130 IF K$="3" THEN GOSUB 600
140 GOTO 20
150 REM
200 REM *** SLOW METHOD ***
210 PRINT CHR$(147)
220 PRINT "SLOW: USING PEEK IN LOOP"
230 TI$="000000"
240 FOR I=1 TO 5000
250 POKE 53280,PEEK(53280)+1
260 IF PEEK(53280)>15 THEN POKE 53280,0
270 NEXT I
280 T=TI
290 PRINT
300 PRINT "TIME:";T/60;"SECONDS"
310 PRINT
320 PRINT "PRESS SPACE"
330 GET K$:IF K$<>" " THEN GOTO 330
340 RETURN
350 REM
400 REM *** FAST METHOD ***
410 PRINT CHR$(147)
420 PRINT "FAST: USING VARIABLES"
430 TI$="000000"
440 C=0
450 FOR I=1 TO 5000
460 POKE 53280,C
470 C=C+1
480 IF C>15 THEN C=0
490 NEXT I
500 T=TI
510 PRINT
520 PRINT "TIME:";T/60;"SECONDS"
530 PRINT
540 PRINT "PRESS SPACE"
550 GET K$:IF K$<>" " THEN GOTO 550
560 RETURN
570 REM
600 REM *** COMPARISON ***
610 PRINT CHR$(147)
620 PRINT "COMPARING BOTH METHODS..."
630 PRINT
640 PRINT "SLOW METHOD:"
650 TI$="000000"
660 FOR I=1 TO 3000
670 POKE 53280,PEEK(53280)+1
680 IF PEEK(53280)>15 THEN POKE 53280,0
690 NEXT I
700 TS=TI
710 PRINT "TIME:";TS/60;"SEC"
720 PRINT
730 PRINT "FAST METHOD:"
740 TI$="000000"
750 C=0
760 FOR I=1 TO 3000
770 POKE 53280,C
780 C=C+1
790 IF C>15 THEN C=0
800 NEXT I
810 TF=TI
820 PRINT "TIME:";TF/60;"SEC"
830 PRINT
840 PRINT "SPEEDUP:";INT((TS/TF)*10)/10;"X FASTER!"
850 PRINT
860 PRINT "PRESS SPACE"
870 GET K$:IF K$<>" " THEN GOTO 870
880 RETURN