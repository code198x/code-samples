10 REM *** STARFIELD ANIMATION - LESSON 17 ***
20 REM WOW MOMENT: SCROLLING SPACE BACKGROUND
30 DIM SX(20), SY(20), SP(20)
40 REM INIT STARS
50 PRINT CHR$(147)
60 FOR I=1 TO 20
70   SX(I) = INT(RND(1) * 40)
80   SY(I) = INT(RND(1) * 25)
90   SP(I) = INT(RND(1) * 3) + 1
100 NEXT I
110 REM *** MAIN LOOP ***
120 REM CLEAR OLD POSITIONS
130 FOR I=1 TO 20
140   POS = SY(I) * 40 + SX(I)
150   IF POS < 0 THEN GOTO 170
160   IF POS >= 1000 THEN GOTO 170
165   POKE 1024 + POS, 32
170 NEXT I
180 REM UPDATE POSITIONS
190 FOR I=1 TO 20
200   SX(I) = SX(I) - SP(I)
210   IF SX(I) >= 0 THEN GOTO 230
220   SX(I) = 39: SY(I) = INT(RND(1) * 25)
230 NEXT I
240 REM DRAW NEW POSITIONS
250 FOR I=1 TO 20
260   POS = SY(I) * 40 + SX(I)
270   IF POS < 0 THEN GOTO 310
280   IF POS >= 1000 THEN GOTO 310
290   POKE 1024 + POS, 46
300   POKE 55296 + POS, 1
310 NEXT I
320 REM DELAY
330 FOR J=1 TO 20: NEXT J
340 GOTO 120
