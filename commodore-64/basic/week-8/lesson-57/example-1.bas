NEW
10 REM *** HOVER FEEL TEST ***
20 PRINT CHR$(147);
30 POKE 646,1
40 PRINT "ARROWS = THRUST  SPACE = RESET  T = TOGGLE TRACE"
50 GOSUB 900
60 FIX=3:FRICTION=8:MAXV=5:TRACE=0
70 PX=160:PY=120:VX=0:VY=0
80 TI$="000000":NEXTT=0
90 GET K$:IF K$<>"" THEN KEY$=K$
100 IF KEY$="T" THEN TRACE=1-TRACE:KEY$=""
110 IF KEY$=" " THEN PX=160:PY=120:VX=0:VY=0:KEY$=""
120 IF TI<NEXTT THEN 90
130 GOSUB 400
140 GOSUB 500
150 NEXTT=TI+FIX
160 IF TRACE THEN GOSUB 800
170 GOTO 90

400 REM *** HANDLE INPUT ***
410 IF KEY$=CHR$(157) THEN VX=VX-1
420 IF KEY$=CHR$(29) THEN VX=VX+1
430 IF KEY$=CHR$(17) THEN VY=VY+1
440 IF KEY$=CHR$(145) THEN VY=VY-1
450 KEY$=""
460 IF VX>MAXV THEN VX=MAXV
470 IF VX<-MAXV THEN VX=-MAXV
480 IF VY>MAXV THEN VY=MAXV
490 IF VY<-MAXV THEN VY=-MAXV
495 RETURN

500 REM *** UPDATE & DRAW ***
510 VX=VX-VX/FRICTION
520 VY=VY-VY/FRICTION
530 PX=PX+VX:PY=PY+VY
540 IF PX<24 THEN PX=24:VX=-VX/2
550 IF PX>296 THEN PX=296:VX=-VX/2
560 IF PY<40 THEN PY=40:VY=-VY/2
570 IF PY>212 THEN PY=212:VY=-VY/2
580 PRINT CHR$(19);TAB(PX/8);CHR$(81)
590 RETURN

800 REM *** TRACE HUD ***
810 PRINT CHR$(19);TAB(0);
820 PRINT "VX:";INT(VX*10)/10;" VY:";INT(VY*10)/10;
830 PRINT " FIX:";FIX;" FRI:";FRICTION;" MAX:";MAXV;"   "
840 RETURN

900 REM *** CLEAR SCREEN ***
910 FOR R=0 TO 2:PRINT: NEXT
920 RETURN
