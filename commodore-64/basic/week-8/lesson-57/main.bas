REM *** LESSON 57: TEXT ADVENTURE GAME ***
REM WOW Moment
NEW
10 REM *** CASTLE ESCAPE ***
20 PRINT CHR$(147)
30 POKE 53280,6:POKE 53281,14
40 PRINT
50 PRINT "   *** CASTLE ESCAPE ***"
60 PRINT
70 PRINT "   FIND THE TREASURE!"
80 PRINT
90 PRINT "   PRESS FIRE TO START"
100 GET K$:IF K$="" THEN GOTO 100
110 REM *** INIT ***
120 R=1:K=0:T=0:SW=0:TR=0
130 REM *** MAIN LOOP ***
140 PRINT CHR$(147)
150 ON R GOTO 200,300,400,500
160 REM
200 REM *** ROOM 1: ENTRANCE ***
210 PRINT "ENTRANCE HALL"
220 PRINT "STONE WALLS SURROUND YOU."
230 IF K=0 THEN PRINT "A RUSTY KEY LIES HERE."
240 PRINT
250 PRINT "EXITS: NORTH, EAST"
260 GOTO 600
270 REM
300 REM *** ROOM 2: ARMOURY ***
310 PRINT "ARMOURY"
320 PRINT "WEAPONS LINE THE WALLS."
330 IF SW=0 THEN PRINT "A SWORD GLEAMS."
340 PRINT
350 PRINT "EXITS: SOUTH, EAST"
360 GOTO 600
370 REM
400 REM *** ROOM 3: TREASURY ***
410 PRINT "TREASURY"
420 PRINT "GOLD COINS EVERYWHERE!"
430 IF TR=1 THEN PRINT "THE CHEST IS OPEN!"
440 IF TR=0 THEN PRINT "A LOCKED CHEST AWAITS."
450 PRINT
460 PRINT "EXITS: WEST, SOUTH"
470 GOTO 600
480 REM
500 REM *** ROOM 4: DUNGEON ***
510 PRINT "DUNGEON"
520 PRINT "DARK AND DAMP."
530 PRINT "A MONSTER BLOCKS THE WAY!"
540 PRINT
550 PRINT "EXITS: NORTH, WEST"
560 GOTO 600
570 REM
600 REM *** INVENTORY ***
610 PRINT
620 PRINT "CARRYING: ";
630 IF K=0 AND SW=0 THEN PRINT "NOTHING"
640 IF K=1 THEN PRINT "KEY ";
650 IF SW=1 THEN PRINT "SWORD ";
660 PRINT
670 REM *** INPUT ***
680 INPUT "COMMAND";C$
690 REM *** MOVEMENT ***
700 IF C$="NORTH" AND R=1 THEN R=2:GOTO 140
710 IF C$="EAST" AND R=1 THEN R=4:GOTO 140
720 IF C$="SOUTH" AND R=2 THEN R=1:GOTO 140
730 IF C$="EAST" AND R=2 THEN R=3:GOTO 140
740 IF C$="WEST" AND R=3 THEN R=2:GOTO 140
750 IF C$="SOUTH" AND R=3 THEN R=4:GOTO 140
760 IF C$="NORTH" AND R=4 THEN R=3:GOTO 140
770 IF C$="WEST" AND R=4 THEN R=1:GOTO 140
780 REM *** ACTIONS ***
790 IF C$="GET KEY" AND R=1 AND K=0 THEN K=1:PRINT "KEY TAKEN!":FOR I=1 TO 1000:NEXT I:GOTO 140
800 IF C$="GET SWORD" AND R=2 AND SW=0 THEN SW=1:PRINT "SWORD TAKEN!":FOR I=1 TO 1000:NEXT I:GOTO 140
810 IF C$="FIGHT" AND R=4 AND SW=1 THEN PRINT "YOU DEFEAT THE MONSTER!":FOR I=1 TO 1500:NEXT I:R=3:GOTO 140
820 IF C$="FIGHT" AND R=4 AND SW=0 THEN PRINT "YOU NEED A WEAPON!":FOR I=1 TO 1000:NEXT I:GOTO 140
830 IF C$="OPEN CHEST" AND R=3 AND K=1 THEN GOSUB 1000
840 PRINT "CAN'T DO THAT.":FOR I=1 TO 500:NEXT I
850 GOTO 140
860 REM
1000 REM *** WIN! ***
1010 PRINT CHR$(147)
1020 POKE 53280,5:POKE 53281,13
1030 PRINT
1040 PRINT "   *** YOU WIN! ***"
1050 PRINT
1060 PRINT "   THE TREASURE IS YOURS!"
1070 PRINT "   GOLD BEYOND MEASURE!"
1080 PRINT
1090 PRINT "   CONGRATULATIONS!"
1100 FOR I=1 TO 3000:NEXT I
1110 END