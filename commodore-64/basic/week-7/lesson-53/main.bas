REM *** LESSON 53: POWER-UPS & COLLECTIBLES ***
REM WOW Moment
NEW
10 REM *** POWER-UP SYSTEM ***
20 PRINT CHR$(147)
30 POKE 53280,0:POKE 53281,0
40 REM *** INIT ***
50 X=5:SC=0:SP=1
60 DIM PT(3):DIM PX(3):DIM TM(3)
70 FOR I=1 TO 3
80 PT(I)=0:PX(I)=5+I*7:TM(I)=0
90 NEXT I
100 REM *** MAIN LOOP ***
110 PRINT CHR$(19)
120 PRINT "SCORE:";SC;" SPEED:";SP
130 PRINT
140 REM *** SHOW POWER-UPS ***
150 FOR I=1 TO 3
160 IF PT(I)=1 THEN PRINT CHR$(18);"[";CHR$(146);
170 IF I=1 THEN PRINT "INVINCIBLE";
180 IF I=2 THEN PRINT "SPEED x2";
190 IF I=3 THEN PRINT "POINTS x5";
200 IF PT(I)=1 THEN PRINT " ";TM(I);CHR$(18);"]";CHR$(146)
210 PRINT
220 NEXT I
230 PRINT
240 REM *** DRAW ITEMS ***
250 FOR I=0 TO 30
260 IF I=X THEN PRINT "@";
270 IF I=PX(1) AND PT(1)=0 THEN PRINT "I";
280 IF I=PX(2) AND PT(2)=0 THEN PRINT "S";
290 IF I=PX(3) AND PT(3)=0 THEN PRINT "P";
300 IF I<>X AND I<>PX(1) AND I<>PX(2) AND I<>PX(3) THEN PRINT ".";
310 NEXT I
320 PRINT
330 PRINT
340 PRINT "A/D TO MOVE"
350 REM *** INPUT ***
360 GET K$
370 IF K$="D" AND X<30 THEN X=X+SP
380 IF K$="A" AND X>0 THEN X=X-SP
390 REM *** COLLECT ***
400 IF X=PX(1) AND PT(1)=0 THEN PT(1)=1:TM(1)=100:POKE 53280,7
410 IF X=PX(2) AND PT(2)=0 THEN PT(2)=1:TM(2)=50:SP=2
420 IF X=PX(3) AND PT(3)=0 THEN PT(3)=1:TM(3)=80
430 REM *** TIMERS ***
440 FOR I=1 TO 3
450 IF PT(I)=1 THEN TM(I)=TM(I)-1
460 IF TM(I)=0 THEN PT(I)=0
470 NEXT I
480 IF PT(1)=0 THEN POKE 53280,0
490 IF PT(2)=0 THEN SP=1
500 REM *** SCORING ***
510 MU=1
520 IF PT(3)=1 THEN MU=5
530 SC=SC+1*MU
540 GOTO 110