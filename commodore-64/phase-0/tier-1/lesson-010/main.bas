10 PRINT CHR$(147)
20 DIM MAP(9,9)
30 FOR R=0 TO 9:FOR C=0 TO 9:MAP(R,C)=0:NEXT C:NEXT R
40 FOR I=0 TO 9:MAP(0,I)=1:MAP(9,I)=1:MAP(I,0)=1:MAP(I,9)=1:NEXT I
50 MAP(3,4)=3 : REM hazard
60 MAP(7,7)=4 : REM goal
70 PROWX=5:PROWY=5
80 GOSUB 500
90 GOSUB 400
100 GOSUB 600
110 GOTO 100

400 REM --- DRAW MAP ---
410 FOR R=0 TO 9
420 FOR C=0 TO 9
430 LOC=1024+R*40+C
440 CELL=MAP(R,C)
450 IF CELL=0 THEN POKE LOC,32
460 IF CELL=1 THEN POKE LOC,35
470 IF CELL=3 THEN POKE LOC,88
480 IF CELL=4 THEN POKE LOC,42
490 NEXT C
500 NEXT R
510 RETURN

500 REM --- DRAW PLAYER ---
510 POKE 1024+PROWY*40+PROWX,64
520 RETURN

600 REM --- INPUT & LOGIC ---
610 GET K$ : IF K$="" THEN RETURN
620 NX=PROWX : NY=PROWY
630 IF K$="W" THEN NY=PROWY-1
640 IF K$="S" THEN NY=PROWY+1
650 IF K$="A" THEN NX=PROWX-1
660 IF K$="D" THEN NX=PROWX+1
670 IF MAP(NY,NX)=1 THEN RETURN
680 IF NX<1 OR NX>8 OR NY<1 OR NY>8 THEN RETURN
690 POKE 1024+PROWY*40+PROWX,32
700 PROWX=NX : PROWY=NY
710 POKE 1024+PROWY*40+PROWX,64
720 IF MAP(NY,NX)=3 THEN GOSUB 7000
730 IF MAP(NY,NX)=4 THEN GOSUB 7100
740 RETURN

7000 REM --- HAZARD ---
7010 PRINT : PRINT "OUCH!" : FOR T=1 TO 200:NEXT T
7020 RETURN

7100 REM --- GOAL ---
7110 PRINT : PRINT "WINNER!" : FOR T=1 TO 200:NEXT T
7120 RUN
