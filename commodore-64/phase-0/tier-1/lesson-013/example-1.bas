10 PRINT CHR$(147)
20 DIM MAP(9,9)
30 FOR R=0 TO 9:FOR C=0 TO 9:MAP(R,C)=0:NEXT C:NEXT R
40 FOR I=0 TO 9:MAP(0,I)=1:MAP(9,I)=1:MAP(I,0)=1:MAP(I,9)=1:NEXT I
50 MAP(4,4)=3 : REM hazard
60 MAP(6,7)=4 : REM exit
70 PROWX=5:PROWY=5
80 SCORE=0:LIVES=3
90 GOSUB 500
100 GOSUB 400
110 GOSUB 600
120 GOTO 110

400 REM --- DRAW MAP ---
410 FOR R=0 TO 9
420 FOR C=0 TO 9
430 LOC=1024+R*40+C
440 CELL=MAP(R,C)
450 IF CELL=0 THEN POKE LOC,32
460 IF CELL=1 THEN POKE LOC,160
470 IF CELL=3 THEN POKE LOC,120
480 IF CELL=4 THEN POKE LOC,42
490 NEXT C
500 NEXT R
510 RETURN

500 REM --- DRAW PLAYER & HUD ---
510 PRINT CHR$(19)
520 PRINT "SCORE:";SCORE;" LIVES:";LIVES;"   ";
530 POKE 1024+PROWY*40+PROWX,64
540 RETURN

600 REM --- INPUT & LOGIC ---
610 GET K$ : IF K$="" THEN RETURN
620 NX=PROWX : NY=PROWY
630 IF K$="W" OR K$=CHR$(145) THEN NY=PROWY-1
640 IF K$="S" OR K$=CHR$(17) THEN NY=PROWY+1
650 IF K$="A" OR K$=CHR$(157) THEN NX=PROWX-1
660 IF K$="D" OR K$=CHR$(29) THEN NX=PROWX+1
670 IF NX<1 OR NX>8 OR NY<1 OR NY>8 THEN RETURN
680 CELL=MAP(NY,NX)
690 IF CELL=1 THEN RETURN
700 POKE 1024+PROWY*40+PROWX,32
710 PROWX=NX : PROWY=NY
720 POKE 1024+PROWY*40+PROWX,64
730 IF CELL=3 THEN GOSUB 7000
740 IF CELL=4 THEN GOSUB 7100
750 RETURN

7000 REM --- HAZARD ---
7010 LIVES=LIVES-1
7020 PRINT : PRINT "OUCH!" : FOR D=1 TO 200:NEXT D
7030 IF LIVES<=0 THEN GOSUB 7200
7040 RETURN

7100 REM --- GOAL ---
7110 SCORE=SCORE+100
7120 PRINT : PRINT "MAZE CLEARED!" : FOR D=1 TO 300:NEXT D
7130 RUN

7200 REM --- GAME OVER ---
7210 PRINT CHR$(147)
7220 PRINT "GAME OVER" : PRINT "FINAL SCORE:";SCORE
7230 PRINT "PRESS Y TO RESTART" : GET R$:IF R$="" THEN 7230 ELSE IF R$="Y" THEN RUN
7240 END
