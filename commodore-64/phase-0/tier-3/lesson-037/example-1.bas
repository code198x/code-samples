10 REM *** SIMPLE PATROL AI ***
20 PRINT CHR$(147);"WASD MOVE  SPACE RESET"
30 POKE 2040,13:POKE 2041,14
40 POKE 53269,3
50 POKE 53287,6:POKE 53288,2
60 PX=160:PY=200:EX=40:EY=80:DIR=2:MODE=0
70 GET K$
80 IF K$="A" THEN PX=PX-3
90 IF K$="D" THEN PX=PX+3
100 IF K$="W" THEN PY=PY-3
110 IF K$="S" THEN PY=PY+3
120 IF K$=" " THEN EX=40:EY=80:MODE=0
130 IF PX<24 THEN PX=24
140 IF PX>320 THEN PX=320
150 IF PY<50 THEN PY=50
160 IF PY>233 THEN PY=233
170 POKE 53248,PX:POKE 53249,PY
180 DIST=ABS(EX-PX)+ABS(EY-PY)
190 IF DIST<120 THEN MODE=1
200 IF DIST>160 THEN MODE=0
210 IF MODE=0 THEN EX=EX+DIR:IF EX<40 OR EX>280 THEN DIR=-DIR:EX=EX+DIR
220 IF MODE=1 THEN GOSUB 400
230 IF MODE=1 THEN POKE 53288,10 ELSE POKE 53288,2
240 POKE 53250,EX:POKE 53251,EY
250 FOR D=1 TO 5:NEXT D
260 GOTO 70
400 IF EX<PX THEN EX=EX+2
410 IF EX>PX THEN EX=EX-2
420 IF EY<PY THEN EY=EY+1
430 IF EY>PY THEN EY=EY-1
440 RETURN
