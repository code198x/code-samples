10 REM *** MINI LIBRARY DEMO ***
20 GOSUB 9000 : REM load library table once
30 PRINT CHR$(147);"RETRO UTILITIES"
40 PRINT "1 = STARFIELD BACKDROP"
50 PRINT "2 = SCORE CHIME"
60 PRINT "3 = CLEAR HUD"
70 PRINT "4 = QUIT"
80 INPUT "CHOICE";C
90 IF C=4 THEN END
100 IF C<1 OR C>3 THEN GOTO 80
110 L=LIB(C)
120 GOSUB L
130 GOTO 80

9000 REM *** LIBRARY INITIALISER ***
9010 DIM LIB(3)
9020 DATA 1000,2000,3000
9030 FOR I=1 TO 3:READ LIB(I):NEXT I
9040 RETURN

1000 REM *** DRAW STARFIELD ***
1010 POKE 53280,0:POKE 53281,0
1020 FOR I=1 TO 80
1030 X=INT(RND(1)*40):Y=INT(RND(1)*22)
1040 POKE 1024+Y*40+X,42
1050 NEXT I
1060 RETURN

2000 REM *** PLAY SCORE CHIME ***
2010 FOR V=1 TO 3
2020 POKE 54276,17:POKE 54277,33:POKE 54278,48
2030 POKE 54272,34+V*2:POKE 54273,6
2040 POKE 54296,15:FOR D=1 TO 80:NEXT D
2050 POKE 54272,0:POKE 54296,0
2060 NEXT V
2070 RETURN

3000 REM *** CLEAR HUD AREA ***
3010 FOR R=0 TO 2
3020 FOR C=0 TO 39
3030 POKE 1024+R*40+C,32
3040 NEXT C
3050 NEXT R
3060 RETURN
