10 PRINT CHR$(147)
20 SCREEN=1024:COLOR=55296
30 DIM MAP(9,17)
40 DIM EX(1),EY(1)
50 PX=9:PY=5:LIVES=3:SCORE=0
60 GOSUB 5000
70 GOSUB 5100
80 GOSUB 5200
90 GOTO 5300

5000 REM --- LOAD MAP FROM DATA ---
5010 RESTORE 9000
5020 FOR R=0 TO 9
5030 FOR C=0 TO 17
5040 READ MAP(R,C)
5050 NEXT C
5060 NEXT R
5070 RETURN

5100 REM --- PLACE ENEMY ---
5110 RESTORE 9100
5120 FOR I=0 TO 1
5130 READ EX(I),EY(I)
5140 NEXT I
5150 RETURN

5200 REM --- DRAW MAP & HUD ---
5210 FOR R=0 TO 9
5220 FOR C=0 TO 17
5230 LOC=SCREEN+(R+5)*40+(C+11)
5240 VAL=MAP(R,C)
5250 CHAR=32:COL=1
5260 IF VAL=1 THEN CHAR=160:COL=0
5270 IF VAL=2 THEN CHAR=42:COL=7
5280 IF VAL=3 THEN CHAR=120:COL=2
5290 POKE LOC,CHAR
5300 POKE COLOR+(R+5)*40+(C+11),COL
5310 NEXT C
5320 NEXT R
5330 RETURN

5300 REM --- MAIN LOOP ---
5310 POKE SCREEN+PY*40+PX,64
5320 FOR I=0 TO 1:POKE SCREEN+(EY(I)+5)*40+(EX(I)+11),81:NEXT I
5330 PRINT CHR$(19)
5340 PRINT "SCORE:";SCORE;" LIVES:";LIVES;"     ";
5350 GOSUB 5400 : REM player move
5360 GOSUB 5500 : REM enemy chase
5370 IF LIVES<=0 THEN 5600
5380 IF MAP(PY-5,PX-11)=2 THEN SCORE=SCORE+100:PRINT CHR$(19):PRINT "SCORE:";SCORE;" LIVES:";LIVES;"     ";:GOSUB 5600
5390 GOTO 5310

5400 REM --- PLAYER MOVE ---
5410 GET K$:IF K$="" THEN RETURN
5420 NX=PX:NY=PY
5430 IF K$="W" OR K$=CHR$(145) THEN NY=PY-1
5440 IF K$="S" OR K$=CHR$(17) THEN NY=PY+1
5450 IF K$="A" OR K$=CHR$(157) THEN NX=PX-1
5460 IF K$="D" OR K$=CHR$(29) THEN NX=PX+1
5470 MX=NX-11:MY=NY-5
5480 IF MX<0 OR MX>17 OR MY<0 OR MY>9 THEN RETURN
5490 IF MAP(MY,MX)=1 THEN RETURN
5500 POKE SCREEN+PY*40+PX,32
5510 PX=NX:PY=NY
5520 POKE SCREEN+PY*40+PX,64
5530 IF MAP(MY,MX)=3 THEN GOSUB 5700
5540 RETURN

5500 REM --- ENEMY CHASE ---
5510 FOR I=0 TO 1
5520 POKE SCREEN+(EY(I)+5)*40+(EX(I)+11),32
5530 DX=0:DY=0
5540 IF EX(I)<PX-11 THEN DX=1
5550 IF EX(I)>PX-11 THEN DX=-1
5560 IF EY(I)<PY-5 THEN DY=1
5570 IF EY(I)>PY-5 THEN DY=-1
5580 NX=EX(I)+DX:NY=EY(I)+DY
5590 IF MAP(NY,NX)=1 THEN DX=0:DY=0
5600 EX(I)=EX(I)+DX:EY(I)=EY(I)+DY
5610 POKE SCREEN+(EY(I)+5)*40+(EX(I)+11),81
5620 IF EX(I)+11=PX AND EY(I)+5=PY THEN GOSUB 5700
5630 NEXT I
5640 RETURN

5600 REM --- WIN/LOSE SCREEN ---
5610 PRINT CHR$(147)
5620 PRINT "MAZE CLEARED";"  SCORE:";SCORE
5630 END

5700 REM --- PLAYER HIT ---
5710 LIVES=LIVES-1
5720 PRINT CHR$(19)
5730 PRINT "SCORE:";SCORE;" LIVES:";LIVES;"     ";
5740 FOR D=1 TO 150:NEXT D
5750 IF LIVES<=0 THEN RETURN
5760 PX=9:PY=5
5770 RETURN

9000 REM === MAP DATA ===
9010 DATA 1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1
9020 DATA 1,0,0,0,0,3,0,0,0,0,0,0,3,0,0,0,0,1
9030 DATA 1,0,1,1,0,1,0,1,1,1,1,0,1,1,0,1,0,1
9040 DATA 1,0,1,0,0,1,0,0,0,0,1,0,0,1,0,1,0,1
9050 DATA 1,0,1,0,1,1,1,1,0,0,1,0,1,1,0,1,0,1
9060 DATA 1,0,0,0,0,0,0,1,0,1,1,0,0,0,0,1,0,1
9070 DATA 1,0,1,1,1,1,0,1,0,0,0,1,1,1,0,1,0,1
9080 DATA 1,0,0,0,0,1,0,1,1,1,0,0,0,1,0,0,0,1
9090 DATA 1,0,1,1,0,1,0,0,0,1,1,1,0,1,1,1,0,1
9100 DATA 1,0,0,1,0,2,0,1,0,0,0,0,0,0,3,0,0,1
9110 DATA 1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1

9100 REM === ENEMY DATA ===
9110 DATA 2,1,14,8
