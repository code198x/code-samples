10 REM Escape Maze
20 REM Chase game with collectibles and lives
30 PAPER 0: INK 6: BORDER 1: CLS
40 REM Draw maze
50 FOR X=0 TO 31
60 PRINT AT 2,X;CHR$ 127
70 PRINT AT 21,X;CHR$ 127
80 NEXT X
90 FOR Y=3 TO 20
100 PRINT AT Y,0;CHR$ 127
110 PRINT AT Y,31;CHR$ 127
120 NEXT Y
130 REM Internal walls
140 FOR Y=6 TO 14
150 PRINT AT Y,8;CHR$ 127
160 PRINT AT Y,22;CHR$ 127
170 NEXT Y
180 FOR X=10 TO 20
190 PRINT AT 10,X;CHR$ 127
200 NEXT X
210 REM Gaps
220 PRINT AT 10,8;" "
230 PRINT AT 10,22;" "
240 PRINT AT 10,15;" "
250 REM Place items
260 INK 3
270 PRINT AT 5,5;"*"
280 PRINT AT 5,25;"*"
290 PRINT AT 16,5;"*"
300 PRINT AT 16,25;"*"
310 REM Game variables
320 LET SCORE=0
330 LET ITEMS=4
340 LET LIVES=3
350 REM Display
360 INK 7
370 PRINT AT 0,0;"Escape! Q/A/O/P Lives: ";LIVES
380 PRINT AT 1,0;"Stars: ";SCORE;"/";ITEMS
390 REM Player start
400 LET PX=15: LET PY=5
410 PRINT AT PY,PX;"@"
420 REM Enemy start
430 LET EX=15: LET EY=18
440 INK 2
450 PRINT AT EY,EX;"!"
460 REM Game loop
470 REM Player move
480 LET NX=PX: LET NY=PY
490 LET K$=INKEY$
500 IF K$="q" THEN LET NY=NY-1
510 IF K$="a" THEN LET NY=NY+1
520 IF K$="o" THEN LET NX=NX-1
530 IF K$="p" THEN LET NX=NX+1
540 REM Check player destination
550 LET CH$=SCREEN$(NY,NX)
560 IF CH$="*" THEN GOSUB 1000
570 IF CH$=" " THEN GOSUB 2000
580 REM Enemy AI
590 LET OEX=EX: LET OEY=EY
600 IF EX<PX THEN LET NEX=EX+1: ELSE LET NEX=EX
610 IF EX>PX THEN LET NEX=EX-1
620 IF EY<PY THEN LET NEY=EY+1: ELSE LET NEY=EY
630 IF EY>PY THEN LET NEY=EY-1
640 REM Check enemy destination
650 IF SCREEN$(NEY,NEX)=" " THEN LET EX=NEX: LET EY=NEY
660 REM Erase old enemy
670 PRINT AT OEY,OEX;" "
680 INK 2
690 PRINT AT EY,EX;"!"
700 REM Check collisions
710 IF PX=EX AND PY=EY THEN GOSUB 3000
720 IF SCORE=ITEMS THEN GOSUB 4000
730 REM Slow down
740 PAUSE 3
750 GO TO 470
1000 REM Collect star
1010 PRINT AT PY,PX;" "
1020 LET PX=NX: LET PY=NY
1030 LET SCORE=SCORE+1
1040 PRINT AT 1,7;"        "
1050 PRINT AT 1,7;SCORE;"/";ITEMS
1060 INK 7
1070 PRINT AT PY,PX;"@"
1080 BEEP 0.05,12
1090 RETURN
2000 REM Move player
2010 PRINT AT PY,PX;" "
2020 LET PX=NX: LET PY=NY
2030 PRINT AT PY,PX;"@"
2040 RETURN
3000 REM Lose life
3010 LET LIVES=LIVES-1
3020 PRINT AT 0,25;LIVES
3030 IF LIVES=0 THEN GOSUB 5000
3040 BEEP 0.2,5
3050 REM Reset positions
3060 PRINT AT PY,PX;" "
3070 PRINT AT EY,EX;" "
3080 LET PX=15: LET PY=5
3090 LET EX=15: LET EY=18
3100 INK 7
3110 PRINT AT PY,PX;"@"
3120 INK 2
3130 PRINT AT EY,EX;"!"
3140 PAUSE 50
3150 RETURN
4000 REM Win condition
4010 CLS
4020 INK 6: BRIGHT 1
4030 PRINT AT 9,9;"YOU ESCAPED!"
4040 INK 7: BRIGHT 0
4050 PRINT AT 11,6;"All stars collected!"
4060 PRINT AT 13,8;"Lives left: ";LIVES
4070 BEEP 0.3,10: BEEP 0.3,15: BEEP 0.3,20
4080 PAUSE 0
4090 STOP
5000 REM Game over
5010 CLS
5020 INK 2: BRIGHT 1
5030 PRINT AT 10,10;"GAME OVER"
5040 INK 7: BRIGHT 0
5050 PRINT AT 12,5;"Stars collected: ";SCORE;"/";ITEMS
5060 BEEP 1,0
5070 PAUSE 0
5080 STOP
