# NES Linker Configuration for ca65/ld65
# Maps program segments to NES ROM layout

MEMORY {
    # iNES header (16 bytes)
    HEADER: start = $0000, size = $0010, fill = yes, fillval = $00;

    # PRG-ROM (32KB = 2 x 16KB banks)
    # First 16KB bank
    PRG0:   start = $8000, size = $4000, fill = yes, fillval = $FF;
    # Second 16KB bank (contains vectors at $FFFA-$FFFF)
    PRG1:   start = $C000, size = $4000, fill = yes, fillval = $FF;

    # CHR-ROM (8KB = 1 x 8KB bank)
    CHR:    start = $0000, size = $2000, fill = yes, fillval = $00;
}

SEGMENTS {
    HEADER:  load = HEADER,         type = ro;
    CODE:    load = PRG1,           type = ro,  start = $C000;
    VECTORS: load = PRG1,           type = ro,  start = $FFFA;
    CHARS:   load = CHR,            type = ro;
}
